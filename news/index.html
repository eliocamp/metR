<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • metR</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">metR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.9.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Visualization-tools.html">Visualization tools</a>
    </li>
    <li>
      <a href="../articles/Working-with-data.html">Working with data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/eliocamp/metR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/eliocamp/metR/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="metr-091" class="section level1">
<h1 class="page-header" data-toc-text="0.9.1">
<a href="#metr-091" class="anchor"></a>metR 0.9.1<small> 2021-02-07 </small>
</h1>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New Features</h2>
<ul>
<li><p><code><a href="../reference/as.discretised_scale.html">as.discretised_scale()</a></code> is a quick way of created a discretised version of any continuous scale.</p></li>
<li><p><code>stroke.colour</code> is now an accepted aesthetic for <code><a href="../reference/geom_label_contour.html">geom_text_contour()</a></code>.</p></li>
</ul>
</div>
<div id="bugfixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes" class="anchor"></a>Bugfixes</h2>
<ul>
<li><p>The computations in <code><a href="../reference/thermodynamics.html">MixingRatio()</a></code> were wrong. Now they are fixed.</p></li>
<li><p>I really wanted <code><a href="../reference/geom_arrow.html">geom_arrow()</a></code> to automatically add the arrow legend, but the workarounds I managed to write were brittle and couldn’t handle even slight changes in people’s code (see <a href="https://github.com/eliocamp/metR/issues/130" class="uri">https://github.com/eliocamp/metR/issues/130</a>). The definitive answer is that this is simply not possible due to limitations on how ggplot2 works (see <a href="https://github.com/tidyverse/ggplot2/issues/4291" class="uri">https://github.com/tidyverse/ggplot2/issues/4291</a>). This release, then, backtracks those workarounds and tries to accept the things I cannot change.</p></li>
</ul>
</div>
</div>
    <div id="metr-090" class="section level1">
<h1 class="page-header" data-toc-text="0.9.0">
<a href="#metr-090" class="anchor"></a>metR 0.9.0<small> 2020-11-25 </small>
</h1>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New Features</h2>
<ul>
<li><p>I’m very happy with <code><a href="../reference/scale_fill_discretised.html">discretised_scale()</a></code>, which is a type of scale which takes a discrete values that are the result of some discretisation and treats them as continuous. It’s, in a sense, the inverse of the new <code><a href="https://ggplot2.tidyverse.org/reference/binned_scale.html">ggplot2::binned_scale()</a></code>. Whereas. <code><a href="https://ggplot2.tidyverse.org/reference/binned_scale.html">ggplot2::binned_scale()</a></code> takes continuous values and then discretises them, <code><a href="../reference/scale_fill_discretised.html">discretised_scale()</a></code> takes discrete values which where the result of some discretisation procedure (such as the levels of <code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code>/<code><a href="https://ggplot2.tidyverse.org/reference/geom_contour.html">ggplot2::geom_contour_filled()</a></code>) and allows you to treat them as continuous.</p></li>
<li><p>Related to that, <code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> now gains a new computed aesthetic called <code>level_d</code>, which is the same as <code>level</code> but forces ggplot2 to automatically use the new discretised scale.</p></li>
<li><p><code><a href="../reference/MakeBreaks.html">AnchorBreaks()</a></code> gains a <code>bins</code> argument to mimic the default functionality of <code><a href="../reference/MakeBreaks.html">MakeBreaks()</a></code>.</p></li>
<li><p>New <code><a href="../reference/label_placement_fraction.html">label_placement_minmax()</a></code> to label contours at the maximum and minimum points of a contour (mimicking <a href="https://wilkelab.org/isoband/articles/isoband3.html">isoband’s behaviour</a>)</p></li>
<li><p><code><a href="../reference/geom_contour_tanaka.html">geom_contour_tanaka()</a></code> now has a (rather experimental) argument <code>smooth</code> which allows to smooth the transition between segments.</p></li>
</ul>
</div>
<div id="bugfixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-1" class="anchor"></a>Bugfixes</h2>
<ul>
<li><p>Fixes error introduced in previous version when <code><a href="../reference/geom_arrow.html">geom_arrow()</a></code> had mappings other than <code>dx</code> and <code>dy</code>. (Thanks Santiago!)</p></li>
<li><p>The <code>level</code> derived aesthetic from <code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> now returns and ordered factor with the correct labels that can be interpreted by <code><a href="https://ggplot2.tidyverse.org/reference/guide_coloursteps.html">ggplot2::guide_colorsteps()</a></code>. This might a breaking change!</p></li>
<li><p><code><a href="../reference/geom_label_contour.html">geom_label_contour()</a></code> lives! The previous release rewrote much of the way <code><a href="../reference/geom_label_contour.html">geom_text_contour()</a></code> worked, but I messed up and didn’t realised that the new code had broken <code><a href="../reference/geom_label_contour.html">geom_label_contour()</a></code> (to be honest, I’d almost totally forgotten about it :P). (fixes <a href='https://github.com/eliocamp/metR/issues/126'>#126</a>, thanks <a href='https://github.com/kongdd'>@kongdd</a>)</p></li>
</ul>
</div>
</div>
    <div id="metr-080" class="section level1">
<h1 class="page-header" data-toc-text="0.8.0">
<a href="#metr-080" class="anchor"></a>metR 0.8.0<small> 2020-10-25 </small>
</h1>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>New features</h2>
<ul>
<li><p><code><a href="../reference/geom_label_contour.html">geom_text_contour()</a></code> placement of labels is completely redesigned. It gains an argument <code>label.placement</code> which takes a function that is in charge of positioning the labels. See <code><a href="../reference/label_placement_fraction.html">label_placement_flattest()</a></code> for more details on the possible placement methods and how to build your own. The default method is <code>label_placement_flattest</code>, which places the label where the product of the curvature and the angle of the contour is minimised. This aims to put labels in a straight segment that is also as horizontal as possible. If more than one point satisfy this condition, then it chooses the closest to the midpoint. This is a <strong>breaking change</strong>, as it will change the label position of previous plots.</p></li>
<li><p>The contour functions also gain a <code>proj</code> argument. It can be a proj4 string to project the contours of or an arbitrary function to alter the contours after they are computed. This now makes it possible to compute contours for data that is on a regular grid on projected coordinates but want to plot in lon-lat coordinates (or vice versa). Bear in mind that contours that cross the dateline will probably end up mangled.</p></li>
<li><p>Contour functions also gain a <code>kriging</code> argument. If <code>TRUE</code>, will perform ordinary kriging to interpolate irregularly placed data into a regular grid.</p></li>
</ul>
</div>
<div id="bugfixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-2" class="anchor"></a>Bugfixes</h2>
<ul>
<li><p><code><a href="../reference/FitLm.html">FitLm()</a></code> handles <code>NA</code>s better.</p></li>
<li><p><code>GetSMNData</code> returns the <code>date</code> parameter with the correct time zone.</p></li>
<li><p><code><a href="../reference/WaveFlux.html">WaveFlux()</a></code> now only returns the value of the horizontal fluxes. That is, it will not return lon and lat. <strong>This is a potentially breaking change</strong>.</p></li>
<li><p>The contour family of functions now use <code>isoband</code> to compute contours (thanks to <a href='https://github.com/clauswilke'>@clauswilke</a> for the awesome package) instead of my ugly hack/workaround. As a result, contours are faster and much more reliable.</p></li>
<li><p><code><a href="../reference/EOF.html">EOF()</a></code> will now work even if {irlba} is not installed.</p></li>
<li><p><code><a href="../reference/GetTopography.html">GetTopography()</a></code> is now updated to the new ETOPO server. It now requires {raster} to work.</p></li>
</ul>
</div>
</div>
    <div id="metr-070" class="section level1">
<h1 class="page-header" data-toc-text="0.7.0">
<a href="#metr-070" class="anchor"></a>metR 0.7.0<small> 2020-04-10 </small>
</h1>
<div id="new-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>New features</h2>
<ul>
<li><p><code><a href="../reference/waves.html">FitWave()</a></code> and related functions return <code>NA</code>s when the inputted signal has <code>NA</code>s.</p></li>
<li><p><code><a href="../reference/FitLm.html">FitLm()</a></code> accepts a <code>weights</code> argument to perform weighted regression.</p></li>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> now can read files directly from DAP servers and other urls, and objects returned by [ncdf4::nc_open()].</p></li>
</ul>
</div>
<div id="bugfixes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-3" class="anchor"></a>Bugfixes</h2>
<ul>
<li>
<code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> won’t try to parse “time” dimensions that are not dates and will try to parse as time all dimensions.</li>
</ul>
</div>
<div id="breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes" class="anchor"></a>Breaking changes</h2>
<ul>
<li>
<code>seasonaly()</code> is now correctly called <code><a href="../reference/season.html">seasonally()</a></code>. This proves that you don’t put an ESL person in charge of naming stuff.</li>
</ul>
</div>
</div>
    <div id="metr-060---pileus" class="section level1">
<h1 class="page-header" data-toc-text="0.6.0">
<a href="#metr-060---pileus" class="anchor"></a>metR 0.6.0 - Pileus<small> 2020-02-10 </small>
</h1>
<div id="new-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>New features</h2>
<ul>
<li><p><code><a href="../reference/EPflux.html">EPflux()</a></code> computes Eliassen-Palm fluxes (experimental).</p></li>
<li><p><code><a href="../reference/geom_arrow.html">geom_arrow()</a></code> and <code><a href="../reference/geom_arrow.html">geom_vector()</a></code> should plot faster.</p></li>
<li><p>New functions <code><a href="../reference/season.html">is.full_season()</a></code> and <code>seasonaly()</code>.</p></li>
<li><p><code><a href="../reference/FitLm.html">FitLm()</a></code> returns model <span class="math inline"><em>r</em><sup>2</sup></span> and adjusted <span class="math inline"><em>r</em><sup>2</sup></span>.</p></li>
<li><p><code><a href="../reference/FitLm.html">FitLm()</a></code> adds names to unnamed terms.</p></li>
<li><p>New function <code><a href="../reference/waves.html">WaveEnvelope()</a></code> that computes… the wave envelope.</p></li>
<li><p><code><a href="../reference/geom_contour2.html">geom_contour2()</a></code>, <code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> and <code><a href="../reference/geom_label_contour.html">geom_text_contour()</a></code> now accept a <code>global.breaks</code> argument that controls whether breaks should be computed once using the range of the whole dataset or once for every grouping (e.g. faceting). <code>TRUE</code> (the default) ensures that intervals between contours are comparable between panels. Setting it to <code>FALSE</code> computes contours compatible with <code>ggplot2::geom_conotur()</code> (<a href='https://github.com/eliocamp/metR/issues/109'>#109</a>, thanks <a href='https://github.com/freeseek'>@freeseek</a>)</p></li>
</ul>
</div>
<div id="bugfixes-4" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-4" class="anchor"></a>Bugfixes</h2>
<ul>
<li><p>A reworked non-equispaced derivative gives better results in <code><a href="../reference/Derivate.html">Derivate()</a></code>.</p></li>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> will not fail if the first variable was called “v” (yeah, I know.. weird error related to data.table’s non standard evaluation).</p></li>
<li><p>Subsets in <code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> won’t fail if no element is named (<a href='https://github.com/eliocamp/metR/issues/107'>#107</a>, thanks <a href='https://github.com/m-saenger'>@m-saenger</a>)</p></li>
<li><p>Fixed bug in <code><a href="../reference/WaveFlux.html">WaveFlux()</a></code> (<a href='https://github.com/eliocamp/metR/issues/110'>#110</a>, thanks <a href='https://github.com/salvatirehbein'>@salvatirehbein</a>)</p></li>
</ul>
</div>
<div id="internals" class="section level2">
<h2 class="hasAnchor">
<a href="#internals" class="anchor"></a>Internals</h2>
<ul>
<li>Cleaned up a lot of dependencies. Some are gone (they were not longer needed) and some have been moved to Suggest. Overall metR should now be a bit lighter to install.</li>
</ul>
</div>
</div>
    <div id="metr-050---incus" class="section level1">
<h1 class="page-header" data-toc-text="0.5.0">
<a href="#metr-050---incus" class="anchor"></a>metR 0.5.0 - Incus<small> 2019-11-12 </small>
</h1>
<div id="new-features-5" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>New features</h2>
<ul>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> supports using <code>NA</code> in subset to refer to max or min value.</p></li>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code>’s subset argument supports more complex queries. (see the help section at<code>?ReadNetCDF()</code>).</p></li>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> now has a simple date-time parser that is tried if the udunits2 package is not installed.</p></li>
<li><p><code><a href="../reference/GetSMNData.html">GetSMNData()</a></code> gains the ability to cache results in a file.</p></li>
<li><p><code><a href="../reference/Derivate.html">Derivate()</a></code> now can derive in a non-equispaced grid.</p></li>
</ul>
</div>
<div id="bugfixes-5" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-5" class="anchor"></a>Bugfixes</h2>
<ul>
<li><p><code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> imputation method is fixed for some special cases (<a href='https://github.com/eliocamp/metR/issues/96'>#96</a>; thanks <a href='https://github.com/bergmul'>@bergmul</a>).</p></li>
<li><p><code>predict.eof()</code> handles complex value svd correctly.</p></li>
<li><p>Accommodates new grid implementation of units (<a href='https://github.com/eliocamp/metR/issues/105'>#105</a> thanks <a href='https://github.com/pmur002'>@pmur002</a>).</p></li>
</ul>
</div>
</div>
    <div id="metr-040---cumulonimbus" class="section level1">
<h1 class="page-header" data-toc-text="0.4.0">
<a href="#metr-040---cumulonimbus" class="anchor"></a>metR 0.4.0 - Cumulonimbus<small> 2019-07-08 </small>
</h1>
<div id="new-features-6" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-6" class="anchor"></a>New features</h2>
<ul>
<li><p>New <code><a href="../reference/ReadNetCDF.html">GlanceNetCDF()</a></code> function that is an alias for <code><a href="../reference/ReadNetCDF.html">ReadNetCDF(out = "vars")</a></code> but now prints a human readable summary of the contents of the NetCDF file.</p></li>
<li><p><code><a href="../reference/geom_streamline.html">geom_streamline()</a></code> now uses 4th order Runge-Kutta instead of plain old Euler. It also draws arrows in the middle of the streamline.</p></li>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> is slightly faster and should use less memory.</p></li>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> supports more complex subsetting operations now.</p></li>
<li><p>The <code>df</code> element returned by <code><a href="../reference/FitLm.html">FitLm()</a></code> now has the same length as the rest.</p></li>
</ul>
</div>
<div id="bugfixes-6" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-6" class="anchor"></a>Bugfixes</h2>
<ul>
<li>
<code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> result will print correctly.</li>
</ul>
</div>
</div>
    <div id="metr-030---cumulonimbus" class="section level1">
<h1 class="page-header" data-toc-text="0.3.0">
<a href="#metr-030---cumulonimbus" class="anchor"></a>metR 0.3.0 - Cumulonimbus<small> 2019-03-12 </small>
</h1>
<div id="new-features-7" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-7" class="anchor"></a>New features</h2>
<ul>
<li><p><code><a href="../reference/Anomaly.html">Anomaly()</a></code> has a new <code>baseline</code> argument.</p></li>
<li><p>New function <code><a href="../reference/Trajectory.html">Trajectory()</a></code> that computes trajectories in time-varying velocity fields.</p></li>
</ul>
</div>
<div id="bugfixes-7" class="section level2">
<h2 class="hasAnchor">
<a href="#bugfixes-7" class="anchor"></a>Bugfixes</h2>
<ul>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> now accepts dates as elements for <code>subset</code>.</p></li>
<li><p><code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> will read all dates correctly (<a href='https://github.com/eliocamp/metR/issues/91'>#91</a>; thanks to <a href='https://github.com/m-saenger'>@m-saenger</a>).</p></li>
</ul>
</div>
<div id="breaking-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-1" class="anchor"></a>Breaking changes</h2>
<ul>
<li><p>The <code>es</code> argument from <code><a href="../reference/thermodynamics.html">MixingRatio()</a></code> changes to <code>e</code>, to be consistent with the rest of the variables. Sorry, thermodynamics is not my forte! (thanks <a href='https://github.com/PaoCorrales'>@PaoCorrales</a>)</p></li>
<li><p>Arrow heads in <code><a href="../reference/geom_arrow.html">geom_arrow()</a></code> are now scaled correctly in faceted plots (fixes, <a href='https://github.com/eliocamp/metR/issues/92'>#92</a>; thanks to <a href='https://github.com/m-saenger'>@m-saenger</a>)</p></li>
</ul>
</div>
</div>
    <div id="metr-020" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0">
<a href="#metr-020" class="anchor"></a>metR 0.2.0<small> 2018-11-19 </small>
</h1>
<div id="breaking-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-2" class="anchor"></a>Breaking changes</h2>
<p>There has been some changes in the interface of some functions for the sake of consistency.</p>
<ul>
<li><p>In <code><a href="../reference/Derivate.html">Derivate()</a></code> (and it’s derived functions –see what I did there?), the <code>data</code> argument has been moved back. This is because this function is intended to be called inside a <code>data.table</code> of <code>mutate()</code> call, where you don’t need to explicitly specify the data.</p></li>
<li><p>In <code><a href="../reference/EOF.html">EOF()</a></code> the dcast-style formula interface has been removed. The <code>data</code> argument was also moved back so you can use the <code>n</code> argument more easily without naming it.</p></li>
<li><p><code><a href="../reference/ImputeEOF.html">ImputeEOF()</a></code> follows the same conventions. The dcast-style interface has been removed and the <code>data</code> argument has been moved after the <code>max.eof</code> argument.</p></li>
<li><p><code>BuildQsWave()</code> and <code>FitQsWave()</code> have been removed and should had never even existed.</p></li>
<li><p>The default <code>skip</code> argument for <code><a href="../reference/geom_label_contour.html">geom_text_contour()</a></code> is now 0.</p></li>
<li><p>Removed <code>hemisphere</code> argument from <code><a href="../reference/season.html">season()</a></code> since the function returns the trimester so it made no sense.</p></li>
<li><p>Contour functions now compute breaks globally (using all the data) instead of per panel. This means default intercomparabilty between faceted plots but also a considerable deviation from <code><a href="https://ggplot2.tidyverse.org/reference/geom_contour.html">ggplot2::geom_contour()</a></code>.</p></li>
<li><p>The <code>Between</code> operators are removed since they were already implemented in <code>data.table</code>.</p></li>
<li><p>The default <code>geom</code> for <code><a href="../reference/stat_na.html">stat_na()</a></code> is changed to <code>point</code> for consistency with <code><a href="../reference/stat_subset.html">stat_subset()</a></code></p></li>
</ul>
</div>
<div id="other-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes" class="anchor"></a>Other changes</h2>
<ul>
<li>Arrows in <code><a href="../reference/geom_arrow.html">geom_arrow()</a></code> and <code><a href="../reference/geom_arrow.html">geom_vector()</a></code> scale with vector magnitude.</li>
<li>New geom <code><a href="../reference/geom_streamline.html">geom_streamline()</a></code> for visualizing vector fields.</li>
<li>Utilities <code><a href="../reference/spherical.html">dlon()</a></code>, <code><a href="../reference/spherical.html">dlat()</a></code>, <code><a href="../reference/spherical.html">dx()</a></code>, <code><a href="../reference/spherical.html">dy()</a></code> for converting physical units into spherical units.</li>
<li>New geom <code><a href="../reference/geom_contour_tanaka.html">geom_contour_tanaka()</a></code> that plots illuminated contours.</li>
<li>New function <code><a href="../reference/Interpolate.html">Interpolate()</a></code> for bilinear interpolation.</li>
<li>Fixed bug in <code><a href="../reference/waves.html">FitWave()</a></code> with wavenumber 0. Now it returns the mean.</li>
<li>
<code><a href="../reference/waves.html">FitWave()</a></code> runs slightly faster and <code><a href="../reference/waves.html">BuildWave()</a></code> runs much faster.</li>
<li>Removed <code>GeomContourFill</code> object since it was just a polygon.</li>
<li>The results from <code><a href="../reference/EOF.html">EOF()</a></code> now use factors instead of numbers to identify each PC</li>
<li>New scale <code><a href="../reference/scale_mag.html">scale_mag()</a></code> and guide <code><a href="../reference/guide_vector.html">guide_vector()</a></code> for controlling and communicating the scale of vectors. These are highly experimental and <strong>will</strong> change in the future, but provide some very needed functionality so I decided to export them as they are.</li>
<li>
<code><a href="../reference/geom_arrow.html">geom_arrow()</a></code> gains new <code>pivot</code> argument to control point of rotation and <code>preserve.dir</code> to tell if angle should be preserved.</li>
<li>
<code><a href="../reference/geom_contour_fill.html">stat_contour_fill()</a></code> and <code><a href="../reference/geom_contour2.html">stat_contour2()</a></code> print a warning when no contours can be made.</li>
<li>
<code><a href="../reference/EOF.html">EOF()</a></code> now supports estimation of confidence intervals via bootstrap.</li>
<li>
<code><a href="../reference/EOF.html">EOF()</a></code> supports varimax rotation. Rotated components are labelled accordingly.</li>
<li>
<code><a href="../reference/geom_relief.html">geom_relief()</a></code> is much faster now (but see package <code>rayshader</code>).</li>
<li>New <code><a href="../reference/geom_relief.html">geom_shadow()</a></code> for casting shadows in topographic maps.</li>
<li>Contour calculations in <code>StatContour2</code> are <a href="https://github.com/r-lib/memoise">memoised</a> so they are only computed once even adding several layers with the same contours (<code>geom_contour() + geom_text_contour()</code>) or running the same plot while tweaking it’s appearance.</li>
<li>New <code><a href="../reference/FitLm.html">FitLm()</a></code> for getting fast estimates of linear fits.</li>
<li>New <code><a href="../reference/waves.html">FilterWave()</a></code> for filtering waves.</li>
<li>Circular dimensions had quite a ride during this development process. <code><a href="../reference/WrapCircular.html">RepeatCircular()</a></code> was deprecated in favour of <code><a href="../reference/WrapCircular.html">WrapCircular()</a></code> which is more robust, and then <code><a href="../reference/WrapCircular.html">WrapCircular()</a></code> was deprecated in favour of the <code>ggperiodic</code> package.</li>
<li>The way that <code><a href="../reference/geom_contour2.html">stat_contour2()</a></code>, <code><a href="../reference/geom_contour_fill.html">stat_contour_fill()</a></code> and <code>geom_streamlines()</code> handle circular dimensions has changed. Now you need to use <code>xwrap</code>/<code>ywrap</code> to explicitly set the domain. This makes the implementation more robust and also allow to easily wrap to an arbitrary domain.</li>
<li>After that change, the wrapping functionality has moved to <code>ggperiodic</code>, which can handle this stuff better. The above mentioned arguments still work but are not documented and will be deprecated.</li>
<li>
<code><a href="../reference/EOF.html">EOF()</a></code> gains a <code>fill</code> argument for sparse-ish data.</li>
<li>
<code><a href="../reference/geom_label_contour.html">geom_text_contour()</a></code> now has the ability to draw a stroke around text.</li>
<li>
<code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> now can impute missing values with bivariate interpolation.</li>
<li>
<code>BuildField()</code> actually renamed <code><a href="../reference/waves.html">BuildWave()</a></code> (which should’ve happen in the previous release according to this News).</li>
<li>New function <code><a href="../reference/as.path.html">as.path()</a></code> and added functionality to <code><a href="../reference/Interpolate.html">Interpolate()</a></code> that allows to interpolate values along a path of locations.</li>
<li>New function <code><a href="../reference/Impute2D.html">Impute2D()</a></code> which is an exported version of the method used by <code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> to (soft) impute missing values.</li>
<li>
<code>subset</code> argument in <code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> now accepts character vectors for time components.</li>
</ul>
</div>
</div>
    <div id="metr-010" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0">
<a href="#metr-010" class="anchor"></a>metR 0.1.0<small> Unreleased </small>
</h1>
<ul>
<li>New function: <code><a href="../reference/GetTopography.html">GetTopography()</a></code>
</li>
<li>
<code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> now can output arrays and vectors.</li>
<li>Changed name.</li>
<li>New website (<a href="https://eliocamp.github.io/metR/">https://eliocamp.github.io/metR/</a>) with documentation. Thanks to <code>pkgdown</code>.</li>
<li>New functions: <code><a href="../reference/coriolis.html">coriolis()</a></code> and <code><a href="../reference/coriolis.html">coriolis.dy()</a></code>.</li>
<li>Faster <code><a href="../reference/Anomaly.html">Anomaly()</a></code> (can’t believe I did that).</li>
<li>
<code><a href="../reference/EOF.html">EOF()</a></code> principal components are numeric instead of “PC1”, etc…</li>
<li>For consistency with <code><a href="https://ggplot2.tidyverse.org/reference/geom_contour.html">stat_contour()</a></code> created <code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> which works just like <code><a href="../reference/geom_contour_fill.html">stat_contour_fill()</a></code>.</li>
<li>Added <code><a href="../reference/stat_na.html">stat_na()</a></code> for easy masking of <code>NA</code> values.</li>
<li>
<code><a href="../reference/geom_arrow.html">geom_arrow()</a></code> now is <code><a href="../reference/geom_arrow.html">geom_vector()</a></code> with better documentation and more parameters and <code><a href="../reference/geom_arrow.html">geom_arrow()</a></code> is a new geom for arrows that preserve direction.</li>
<li>
<code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> now handles more date formats.</li>
<li>New functions <code><a href="../reference/Derivate.html">Laplacian()</a></code>, <code>Divercence()</code> and <code><a href="../reference/Derivate.html">Vorticity()</a></code>
</li>
<li>
<code>DerivatePhysical()</code> is removed since it was made redundant by the extended functionality in <code><a href="../reference/Derivate.html">Derivate()</a></code>
</li>
<li>New functions related to several physical processes (see ?physics).</li>
<li>New <code><a href="../reference/geom_label_contour.html">geom_text_contour()</a></code> and <code><a href="../reference/geom_label_contour.html">geom_label_contour()</a></code> for labelling contours.</li>
<li>New function <code><a href="../reference/GeostrophicWind.html">GeostrophicWind()</a></code>.</li>
<li>Fixed? weird bug with <code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> and <code>as.POSIXct</code>.</li>
<li>
<code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> now supports time-zones via de <code>udunits2</code> package.</li>
<li>Fixed bad polygon ordering and extra polygon in <code><a href="../reference/geom_contour_fill.html">stat_contour_fill()</a></code>.</li>
<li>New functions <code><a href="../reference/MakeBreaks.html">MakeBreaks()</a></code> and <code><a href="../reference/MakeBreaks.html">AnchorBreaks()</a></code>.</li>
<li>New guide. <code><a href="../reference/guide_colourstrip.html">guide_colorstrip()</a></code> displays discretized values of a continuous colour or fill scale.</li>
<li>Fix for unconnected contours in <code><a href="../reference/geom_contour_fill.html">stat_contour_fill()</a></code>
</li>
<li>New <code><a href="../reference/geom_relief.html">geom_relief()</a></code> for generating relief shading.</li>
<li>
<code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> gains a <code>subset</code> argument for subsetting data.<br>
</li>
<li>
<code><a href="../reference/MakeBreaks.html">AnchorBreaks()</a></code> is a new way of generating breaks.</li>
<li>New <code><a href="../reference/geom_contour2.html">geom_contour2()</a></code> that takes a function as argument in <code>breaks</code> and <code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> also does the same.</li>
<li>New <code><a href="../reference/stat_subset.html">stat_subset()</a></code> that makes subsetting data on the fly easier.</li>
<li>
<code><a href="../reference/ReadNetCDF.html">ReadNetCDF()</a></code> can return a keyed data.table.</li>
<li>
<code>FitQsWave()</code> and <code>BuildQsWave()</code> renamed to <code><a href="../reference/waves.html">FitWave()</a></code> and <code><a href="../reference/waves.html">BuildWave()</a></code>, respectively.</li>
<li>
<code><a href="../reference/GetSMNData.html">GetSMNData()</a></code> is updated to include the new SMN website and data types.</li>
<li>
<code><a href="../reference/geom_contour2.html">geom_contour2()</a></code> and <code><a href="../reference/geom_contour_fill.html">geom_contour_fill()</a></code> gain a <code>circular</code> argument to specify a circular dimension.</li>
<li>
<code><a href="../reference/WrapCircular.html">RepeatCircular()</a></code> renamed to <code><a href="../reference/WrapCircular.html">RepeatCircular()</a></code>.</li>
<li>
<code><a href="../reference/map_labels.html">LonLabel()</a></code> and <code><a href="../reference/map_labels.html">LatLabel()</a></code> aid labelling latitude and longitude.</li>
<li>Changed interface of <code><a href="../reference/EOF.html">EOF()</a></code> and <code><a href="../reference/ImputeEOF.html">ImputeEOF()</a></code>.</li>
</ul>
</div>
    <div id="meteor-009100" class="section level1">
<h1 class="page-header" data-toc-text="0.0.9100">
<a href="#meteor-009100" class="anchor"></a>meteoR 0.0.9100<small> Unreleased </small>
</h1>
<ul>
<li>Full (not perfect) documentation.</li>
<li>Ready for serious testing.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Elio Campitelli.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


